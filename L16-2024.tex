\title[概率论]{第十六讲：随机变量的存在性}
 %\author[张鑫 {\rm Email: x.zhang.seu@foxmail.com} ]{\large 张 鑫}
 \institute[东南大学数学学院]{\large \textrm{Email: xzhangseu@seu.edu.cn} \\ \quad  \\
	 \large 东南大学 \quad 数学学院 \\
	 \vspace{0.3cm}
	 %  \trc{公共邮箱: \textrm{zy.prob@qq.com}\\
		 %    \hspace{-1.7cm}  密 \qquad 码: \textrm{seu!prob}}
 }
 \date{}


 \begin{frame}
	 \titlepage
 \end{frame}


\subsection{随机变量的存在性}

 \begin{frame}{分布函数与随机变量}
 \begin{align*}
 &	\left. \begin{array}{c}
		 (\Omega, \mathcal{F}, P) \\
		  \\
		 X(\omega)
			\end{array}\right\}\Rightarrow\pause P(X\leq x)=: F(x)\pause	\Rightarrow  \left\{\begin{array}{l}
		   \mbox{单调非降性} \\
		   \mbox{右连续性}\\
		   \mbox{规范性}
		\end{array}\right. \\
 \pause
 \\
 \\
 &\left.\begin{array}{r}
	 \mbox{单调非降性} \\
	 \mbox{右连续性}\\
	 \mbox{规范性}
 \end{array}\right\}\mbox{的} F (x) \mbox{给定}\Rightarrow\pause \mbox{存在}  \left\{\begin{array}{l}
		 (\Omega, \mathcal{F}, P) \\
		 \\
		 X(\omega)
	 \end{array}\right. \mbox{使得} F (x)=P (X\leq x) ?
 \end{align*}


 \end{frame}

 \begin{frame}{随机变量的存在性问题分析}
 %	由前面所学知识易知：给定一个随机变量，我们可定义其分布函数，并且分布函数具有性质：单调非降，右连续，$F (-\infty)=0$, $F (+\infty)=1$. 那么反过来呢？
 %	\pause \begin{prob}
 %		给定一个分布函数 $F (x)$, 即函数 $F (x)$ 具有分布函数的性质：单调非降，右连续，$F (-\infty)=0$, $F (+\infty)=1$, 是否一定存在一个概率空间 $(\Omega,\mathcal{F},P)$ 及其上的随机变量 $X$ 使得其分布函数恰为 $F (x)$?
 %	\end{prob}
 %	\pause
 \begin{thm}\label{sec:existofrv}
 \hspace{-0.2cm} 若 $F (x)$ 是右连续、单调非降函数，且 $F (-\infty)=0, F (+\infty)=1$, 则存在一个概率空间 $(\Omega,\mathcal{F},P)$ 及其上的随机变量 $X (\omega)$, 使 $X (\omega)$ 的分布函数恰好是 $F (x)$.
 \end{thm}

 \textcolor{cyan}{分析:}
 \begin{itemize}[<+-|alert@+>]
	 %\item 取 $\Omega=[0,1]$, $\mathcal{F}$ 为 $[0,1]$ 上的 Borel 集全体，取 $P$ 为直线上的 Lebesgue 测度 (是长度概念的推广，但对一切 Borel 集有定义);
	 \item 对 $[0,1]$ 上的均匀分布随机变量 $\theta (\omega)=\omega$, 其分布函数为 % 有 %, 其分布函数 % 则 $\theta (\omega)$ 是 $(\Omega,\mathcal{F},P)$ 上的随机变量，并且，，
	 \begin{eqnarray*}
		 P(\theta(\omega)\le x)=P(\omega\in[0,x])=x, \ \forall x\in[0,1];
	 \end{eqnarray*}
	 \item $F (x)\in[0.1]$, 若将上式中的 $x$ 替换为 $F (x)$, 则有
		 \begin{eqnarray*}
		 P(\theta(\omega)\le F(x))=F(x);
	 \end{eqnarray*}
	 \item 若分布函数 $F (x)$ 可逆，则
	 \begin{eqnarray*}
	 P(F^{-1}(\theta(\omega))\le x)=	P(\theta(\omega)\le F(x))=\pause F(x);
	 \end{eqnarray*}

	 \item 考虑 $X (\omega):=F^{-1}(\theta (\omega))$, 则 $F_X (x)= P (F^{-1}(\theta (\omega))\le x)= F (x)$;

 %    \item $F (x)$\textcolor{red}{不一定可逆}, 能否定义一种映射 $G$ 使得
 %    \[\{\theta(\omega)\le F(x)\}=\{G(\theta(\omega))\le x\}?\]

 \end{itemize}


 \end{frame}
 \begin{frame}{随机变量的存在性问题分析}
	 \begin{itemize}[<+-|alert@+>]
	 \item $F (x)$\textcolor{red}{不一定可逆}, 能否定义一个函数 $G$ 使得
		 \[\{\theta(\omega)\le F(x)\}=\{G(\theta(\omega))\le x\}?\]
	 \item 上述等式也即寻求如下等价性
	 \[G(\theta)\leq x \Leftrightarrow F(x)\ge \theta \]
	 \item 因此，若函数 $G$ 存在，则对任意给定的 $\theta$ 必须满足
	 \[G(\theta)\leq x, \quad  \forall x\in \{x: F(x)\ge\theta\}\]
	 \item 故所寻找的函数 $G$ 需有以下性质
	 \[G(\theta)\leq \inf\{x:F(x)\geq \theta\}\]
	 \item 上述不等式右侧的下确界也是 $G$ 的一种选择，可以证明选此下确界作为函数 $G$ 的定义的确具有我们所要求的性质.%,
	 \end{itemize}




 \end{frame}

 \begin{frame}{单调逆 (一般逆) 的定义}
	 \vspace{-0.1cm}
	 \begin{defi}
		 设 $F (x)$ 是右连续、单调非降函数，且 $F (-\infty)=0, F (+\infty)=1$. 对任意的 $p\in (0,1)$, 我们称
		 \begin{eqnarray*}
			 F^{-1}(p):=\inf\{x: F(x)\geq p\}, %\forall p\in (0,1),
		 \end{eqnarray*}
		 为函数 $F (x)$ 的单调逆或一般逆.
	 \end{defi}

 \pause
 \begin{rmk} \ 	 $F^{-1}(p)$ 在概率论中也称为函数 $F (x)$ 的 $p$ 分位数函数或与其相对应的随机变量 $X$ 的 $p$ 分位数，通常用 $x_p$ 或 $\xi_p$ 来表示.
 \end{rmk}
 \begin{thm}
	 设 $F (x), F^{-1}(p)$ 定义如上，则
	 \[F^{-1}(p)\leq x \Leftrightarrow F(x)\ge p \]
 \end{thm}
 \pause
 \zheng 令 $A:=\{y: F (y)\geq p\}$, 则 \pause
 \begin{itemize}[<+-|alert@+>]
	 \item $\Leftarrow$: $F (x)\geq p$ 蕴含 \pause $F^{-1}(p):=\inf A\leq x$\pause
	 \item $\Rightarrow$: $F^{-1}(p)\leq x$ 即 $x\geq F^{-1}(p):=\inf A=:x_0$\pause
	 \begin{itemize}[<+-|alert@+>]
		 \item 若 $x_0\in A$, 则显然 \pause $F (x)\geq F (x_0)\geq p$\pause
		 \item 若 $x_0\notin A$, 则存在 \pause $\{x_n\}_{n\geq 1}\subset A$ 使得 $x_n>x_0$ 且 $\lim_{n\rightarrow \infty} x_n=x_0$,\pause  从而 \pause
		 \[F(x)\geq F(x_0)=F(\lim_{n\rightarrow \infty}x_n)=\pause \lim_{n\rightarrow \infty}F(x_n)\geq\pause p;\]
	 \end{itemize}
 \end{itemize}
 \end{frame}
 \begin{frame}{随机变量存在性的证明}
 \trc{定理 \ref{sec:existofrv} 的证明:}\pause
 \begin{itemize}[<+-|alert@+>]
	 \item 取 $\Omega=[0,1]$, $\mathcal{F}$ 为 $[0,1]$ 上的 Borel 集全体，取 $P$ 为直线上的 Lebesgue 测度 (是长度概念的推广，但对一切 Borel 集有定义);
	 \item 定义: $\theta (\omega)=\omega$, 则 $\theta (\omega)$ 是 $(\Omega,\mathcal{F},P)$ 上的随机变量，并且，对一切的 $0\le x\le 1$,
	 \begin{eqnarray*}
		 P(\theta(\omega)\le x)=P(\omega\in[0,x])=x;
	 \end{eqnarray*}
	 \item 考虑 $X (\omega):=F^{-1}(\theta (\omega))$, 则
	{\small\begin{eqnarray*}
			 F_X(x)=P(X\le x)=\pause P(F^{-1}(\theta(\omega))\le x)\pause \xlongequal[p\le F(x)]{F^{-1}(p)\le x} P(\theta(\omega)\le F(x))=\pause F(x)
	 \end{eqnarray*}}


 \end{itemize}


 \end{frame}



 %\begin{frame}
 %	\frametitle{随机变量的 $p$ 分位数函数}
 %	\vspace{-0.3cm}
 %	\begin{defi}
 %		设 $X$ 是概率空间 $(\Omega,\mathcal{F},P)$ 上的随机变量，$F (x)$ 为其分布函数。对于 $p\in (0,1)$, 定义
 %		\begin{eqnarray*}
 %			F^{-1}(p):=\sup\{x:F(x)<p\}\pause =\inf\{x: F(x)\geq p\}.
 %		\end{eqnarray*}
 %		称 $F^{-1}(p)$ 为 $F$ 或 $X$ 的 $p$ 分位数，通常用 $x_p$ 或 $\xi_p$ 来表示.
 %	\end{defi}
 %
 %
 %\end{frame}
 \begin{frame}
	 \frametitle{单调逆 (一般逆) 的性质}

	 \begin{itemize}[<+-|alert@+>]
		 \item $F^{-1}(F (x))\leq x, \forall x\in R$ :\pause\  设 $x_0\in R$ 任意给定且 $F (x_0)=p_0$, 则 \pause
		 \begin{align*}
		  F^{-1}(F(x_0))&=\pause F^{-1}(p_0)=\pause \inf\{x: F(x)\geq p_0\}\\
		  &=\pause \inf\{x: F(x)\geq F(x_0)\}\leq\pause  x_0
		 \end{align*}
		 \item $F (F^{-1}(p))\geq p, \forall p\in (0,1)$:\pause 设 $p_0\in (0,1)$ 任意给定且
		 \begin{align*}
		 F^{-1}(p_0)=x_0=\inf\{x: F(x)\geq p_0\}=:\inf A, %
		 \end{align*}
	 \begin{itemize}[<+-|alert@+>]
		 \item 若 $x_0\in A$, 则显然有 $F (F^{-1}(p_0))=F (x_0)\geq p_0$;
		 \item 若 $x_0\notin A$, 则 \pause 存在 $\{x_n\}_{n\geq 1}\subset A$ 使得 $x_n>x_0$ 且 $\lim_{n\rightarrow \infty} x_n=x_0$,\pause  从而由函数 $F (x)$ 的右连续性可知 \pause
		 \[F(F^{-1}(p_0))=F(x_0)=F(\lim_{n\rightarrow \infty}x_n)=\pause \lim_{n\rightarrow \infty}F(x_n)\geq\pause p_0;\]
	 \end{itemize}
	 \item $F^{-1}(p)$ 关于 $p$ 单调非降：集合 $\{x:F (x)\geq p\}$ 关于 $p$ 单调不增，故其下确界也关于 $p$ 单调非降
		 \end{itemize}
	 \end{frame}

 \begin{frame}
	 \frametitle{单调逆 (一般逆) 的性质}
	 下面的几条性质 %,\trc{(留做作业)}
	 \begin{itemize}[<+-|alert@+>]
		 \item  $F^{-1}(p)$ 关于 $p$ 是左连续的；
		 \item $F^{-1}(p):=\inf\{x: F(x)\geq p\}=\sup\{x:F(x)<p\}$
		 \item $x<F^{-1}(p)\Leftrightarrow F(x)<p$
		 %\item $F (x)<p$, 则 $x<F^{-1}(p)$
	 \end{itemize}

 \end{frame}

 \begin{frame}{思考}
	 若 $F (x)$ 是左连续、单调非降函数，且 $F (-\infty)=0, F (+\infty)=1$, 是否存在一个概率空间 $(\Omega,\mathcal{F},P)$ 及其上的随机变量 $X (\omega)$, 使得
	 \[F(x)=P(X<x).\]



 \end{frame}



 %\begin{frame}
 %	\frametitle{单调逆 (一般逆) 的性质}
 %
 %	\begin{itemize}[<+-|alert@+>]
 %		\item $F^{-1}(p)$ 关于 $p$ 单调非降：集合 $\{x:F (x)<p\}$ 关于 $p$ 单调非降，故其上确界也关于 $p$ 单调非降；
 %		\item 若 $x<F^{-1}(p)$, 则 $F (x)<p$: $F^{-1}(p)$ 是使得 $F (x)<p$ 的 $x$ 中的上确界；
 %		\item 若 $F (x)<p$, 则 $x<F^{-1}(p)$:\pause 由分布函数的右连续性知，若 $F (x)<p$, 对于给定的 $\epsilon:=\dfrac{p-F (x)}{2}$, 则必定存在充分小的 $\delta$, 使得
 %		\begin{eqnarray*}
 %			F(x+\delta)<F(x)+\epsilon=\dfrac{p+F(x)}{2}<p
 %		\end{eqnarray*}
 %		从而 $x<F^{-1}(p)$;\pause
 %		\item $x<F^{-1}(p)\Leftrightarrow F (x)<p$, 或等价的 $x\ge F^{-1}(p)\Leftrightarrow F (x)\ge p$;
 %		\item $P(X\le F^{-1}(p))=F(F^{-1}(p))\ge p$;
 %		\item $P(X\ge F^{-1}(p))=1-P(X<F^{-1}(p))$\\ \pause $=1-\lim_{\epsilon\rightarrow 0}P(X\le F^{-1}(p)-\epsilon)\pause \ge 1-p$
 %	\end{itemize}
 %
 %\end{frame}

